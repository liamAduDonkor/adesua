import{r as g,j as e,u as _,H as M,L as m}from"./app-DZ0vWX43.js";import{A as w}from"./admin-sidebar-layout-YkU-jgrI.js";import{d as R}from"./index-CwYsXsqK.js";import{C as f,a as v,b as L,c as y}from"./card-BJ8JbWew.js";import{B as k}from"./badge-CNHZwcdF.js";import{S as b}from"./school-Cb6Vj-Uy.js";import{G as X,U as Y}from"./users-CQbd8oD2.js";/* empty css            */import"./app-sidebar-header-CGXF-lXY.js";import"./app-shell-DnHRLfMH.js";import"./button-CEleBrLa.js";import"./index-6yBPn8VC.js";import"./index-BYSkaRvI.js";import"./createLucideIcon-ClVFSv6n.js";import"./input-CHJX23Ty.js";import"./app-logo-icon-oqHP0DX7.js";import"./wallet-BuoZZyNv.js";const A={"Greater Accra":{path:"M 420 380 L 450 380 L 460 400 L 450 420 L 420 420 Z",labelX:435,labelY:400},Ashanti:{path:"M 340 300 L 380 290 L 400 320 L 390 360 L 360 370 L 330 340 Z",labelX:365,labelY:330},Northern:{path:"M 300 80 L 380 70 L 400 120 L 390 180 L 360 200 L 320 190 L 280 150 Z",labelX:340,labelY:140},Western:{path:"M 240 320 L 300 310 L 320 350 L 310 400 L 270 420 L 220 380 Z",labelX:270,labelY:360},Central:{path:"M 320 350 L 360 340 L 380 370 L 370 400 L 340 410 L 310 390 Z",labelX:345,labelY:375},Eastern:{path:"M 380 320 L 420 310 L 440 340 L 430 370 L 400 380 L 370 360 Z",labelX:405,labelY:345},Volta:{path:"M 440 300 L 480 300 L 490 340 L 480 380 L 450 380 L 430 350 Z",labelX:460,labelY:340},Bono:{path:"M 260 230 L 310 220 L 330 260 L 320 290 L 280 300 L 250 270 Z",labelX:290,labelY:260},"Bono East":{path:"M 310 220 L 360 210 L 380 250 L 370 280 L 330 290 L 310 260 Z",labelX:345,labelY:250},"Upper West":{path:"M 200 40 L 260 30 L 280 80 L 270 120 L 230 130 L 190 90 Z",labelX:240,labelY:80},"Upper East":{path:"M 280 30 L 350 20 L 370 60 L 360 100 L 320 110 L 290 80 Z",labelX:320,labelY:65},Savannah:{path:"M 260 130 L 320 120 L 340 170 L 330 210 L 290 220 L 250 180 Z",labelX:295,labelY:170},Ahafo:{path:"M 280 260 L 320 250 L 335 280 L 325 310 L 290 315 L 270 290 Z",labelX:300,labelY:285},"Western North":{path:"M 220 280 L 270 270 L 285 310 L 275 340 L 240 350 L 210 320 Z",labelX:250,labelY:310},Oti:{path:"M 400 250 L 450 240 L 465 280 L 455 320 L 420 330 L 395 290 Z",labelX:430,labelY:285},"North East":{path:"M 360 60 L 420 50 L 440 100 L 430 140 L 390 150 L 360 110 Z",labelX:395,labelY:100}};function Z({regionalData:x}){const[i,h]=g.useState(null),[u,c]=g.useState(null),d=x.schools_by_region.map(s=>{const l=x.teachers_by_region.find(n=>n.region===s.region),a=x.students_by_region.find(n=>n.region===s.region);return{region:s.region,schools:s.count,teachers:(l==null?void 0:l.count)||0,students:(a==null?void 0:a.count)||0}}),p=Math.max(...d.map(s=>s.schools)),j=s=>{const l=d.find(S=>S.region===s);if(!l)return"rgb(229, 231, 235)";const a=l.schools/p,n=Math.floor(59+196*(1-a)),N=Math.floor(130+125*(1-a)),r=Math.floor(246+9*(1-a));return`rgb(${n}, ${N}, ${r})`},o=i||u,t=o?d.find(s=>s.region===o):null;return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(f,{children:[e.jsx(v,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Ghana Regional Distribution Map"]})}),e.jsxs(y,{children:[e.jsx("div",{className:"relative w-full aspect-square",children:e.jsxs("svg",{viewBox:"0 0 500 500",className:"absolute inset-0 w-full h-full border border-gray-200 rounded-lg",children:[e.jsx("rect",{width:"500",height:"500",fill:"#f9fafb"}),Object.entries(A).map(([s,l])=>{const a=o===s,n=j(s);return e.jsx("g",{children:e.jsx("path",{d:l.path,fill:n,stroke:a?"#1d4ed8":"#6b7280",strokeWidth:a?3:1,className:`transition-all duration-200 cursor-pointer hover:opacity-80 ${a?"brightness-90":""}`,onMouseEnter:()=>c(s),onMouseLeave:()=>c(null),onClick:()=>h(i===s?null:s)})},s)}),Object.entries(A).map(([s,l])=>{const a=d.find(n=>n.region===s);return a?e.jsx("text",{x:l.labelX,y:l.labelY,textAnchor:"middle",className:"pointer-events-none text-[8px] font-medium",fill:"#374151",children:a.schools},`label-${s}`):null})]})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Fewer Schools"}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("div",{className:"w-8 h-4 rounded bg-gradient-to-r from-blue-200 to-blue-500"})}),e.jsx("span",{className:"text-muted-foreground",children:"More Schools"})]}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Click or hover on a region to view detailed statistics"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(f,{className:"h-full",children:[e.jsx(v,{children:e.jsx(L,{className:"text-lg",children:"Region Details"})}),e.jsx(y,{children:t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:t.region}),e.jsx(k,{variant:"outline",className:"text-xs",children:"Region"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx(b,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Schools"}),e.jsx("div",{className:"text-2xl font-bold",children:t.schools.toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx(X,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Teachers"}),e.jsx("div",{className:"text-2xl font-bold",children:t.teachers.toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-purple-50 dark:bg-purple-950/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[e.jsx(Y,{className:"h-5 w-5 text-purple-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Students"}),e.jsx("div",{className:"text-2xl font-bold",children:t.students.toLocaleString()})]})]})]}),e.jsxs("div",{className:"pt-4 border-t space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Students per School"}),e.jsx("span",{className:"font-medium",children:t.schools>0?Math.round(t.students/t.schools).toLocaleString():"N/A"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Teachers per School"}),e.jsx("span",{className:"font-medium",children:t.schools>0?Math.round(t.teachers/t.schools).toLocaleString():"N/A"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Student-Teacher Ratio"}),e.jsx("span",{className:"font-medium",children:t.teachers>0?`${Math.round(t.students/t.teachers)}:1`:"N/A"})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[e.jsx(b,{className:"h-12 w-12 text-muted-foreground mb-3 opacity-50"}),e.jsx("h3",{className:"font-medium mb-1",children:"No Region Selected"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hover or click on a region on the map to view its statistics"})]})})]})})]})}const T=[{title:"Adesua",href:R().url},{title:"Admin",href:"/admin"},{title:"Analytics",href:"/admin/analytics"}];function K(){var j,o,t,s,l,a,n,N;const x=_().props,{stats:i,teacherAnalytics:h,studentAnalytics:u,vendorAnalytics:c,regionalAnalytics:d,performanceTrends:p}=x;return e.jsxs(w,{breadcrumbs:T,children:[e.jsx(M,{title:"Admin - Analytics Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Analytics Dashboard"}),e.jsx("p",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"Comprehensive performance analytics and insights across all entities."}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Total Teachers"}),e.jsx("div",{className:"mt-1 text-2xl font-semibold",children:i.total_teachers})]}),e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Total Students"}),e.jsx("div",{className:"mt-1 text-2xl font-semibold",children:i.total_students})]}),e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Total Vendors"}),e.jsx("div",{className:"mt-1 text-2xl font-semibold",children:i.total_vendors})]}),e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Total Schools"}),e.jsx("div",{className:"mt-1 text-2xl font-semibold",children:i.total_schools})]})]}),e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Teacher Performance Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Average Performance"}),e.jsx("div",{className:"text-xl font-semibold",children:((j=h.average_performance)==null?void 0:j.toFixed(1))||"N/A"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Attendance Rate"}),e.jsxs("div",{className:"text-xl font-semibold",children:[((o=h.attendance_rate)==null?void 0:o.toFixed(1))||"N/A","%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Punctuality Rate"}),e.jsxs("div",{className:"text-xl font-semibold",children:[((t=h.punctuality_rate)==null?void 0:t.toFixed(1))||"N/A","%"]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(m,{href:"/admin/analytics/teachers",className:"text-blue-600 hover:text-blue-800",children:"View Detailed Teacher Analytics →"})})]}),e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Student Performance Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Average Performance"}),e.jsx("div",{className:"text-xl font-semibold",children:((s=u.average_performance)==null?void 0:s.toFixed(1))||"N/A"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Attendance Rate"}),e.jsxs("div",{className:"text-xl font-semibold",children:[((l=u.attendance_rate)==null?void 0:l.toFixed(1))||"N/A","%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Punctuality Rate"}),e.jsxs("div",{className:"text-xl font-semibold",children:[((a=u.punctuality_rate)==null?void 0:a.toFixed(1))||"N/A","%"]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(m,{href:"/admin/analytics/students",className:"text-blue-600 hover:text-blue-800",children:"View Detailed Student Analytics →"})})]}),e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Vendor Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Total Contracts"}),e.jsx("div",{className:"text-xl font-semibold",children:c.total_contracts})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Contract Value"}),e.jsxs("div",{className:"text-xl font-semibold",children:["₵",((n=c.total_contract_value)==null?void 0:n.toLocaleString())||"0"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-neutral-500",children:"Amount Paid"}),e.jsxs("div",{className:"text-xl font-semibold",children:["₵",((N=c.total_amount_paid)==null?void 0:N.toLocaleString())||"0"]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(m,{href:"/admin/analytics/vendors",className:"text-blue-600 hover:text-blue-800",children:"View Detailed Vendor Analytics →"})})]}),e.jsx(Z,{regionalData:d}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Teachers by Region"}),e.jsx("ul",{className:"space-y-1 text-sm",children:d.teachers_by_region.map(r=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:r.region}),e.jsx("span",{className:"font-medium",children:r.count})]},r.region))})]}),e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Students by Region"}),e.jsx("ul",{className:"space-y-1 text-sm",children:d.students_by_region.map(r=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:r.region}),e.jsx("span",{className:"font-medium",children:r.count})]},r.region))})]}),e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Schools by Region"}),e.jsx("ul",{className:"space-y-1 text-sm",children:d.schools_by_region.map(r=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:r.region}),e.jsx("span",{className:"font-medium",children:r.count})]},r.region))})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs(m,{href:"/admin/search/teachers",className:"rounded-md border p-4 hover:bg-neutral-50 dark:hover:bg-neutral-900",children:[e.jsx("div",{className:"font-medium",children:"Search Teachers"}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Find and analyze teacher performance."})]}),e.jsxs(m,{href:"/admin/search/students",className:"rounded-md border p-4 hover:bg-neutral-50 dark:hover:bg-neutral-900",children:[e.jsx("div",{className:"font-medium",children:"Search Students"}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Find and analyze student performance."})]}),e.jsxs(m,{href:"/admin/search/vendors",className:"rounded-md border p-4 hover:bg-neutral-50 dark:hover:bg-neutral-900",children:[e.jsx("div",{className:"font-medium",children:"Search Vendors"}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Find and analyze vendor statistics."})]})]})]})]})}export{K as default};
