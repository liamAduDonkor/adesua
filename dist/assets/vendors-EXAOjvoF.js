import{u as S,j as e,H as T,L as i}from"./app-DZ0vWX43.js";import{A as D}from"./app-layout-B8wYj88Z.js";import{C as a,c as r,a as n,b as m}from"./card-BJ8JbWew.js";import{B}from"./badge-CNHZwcdF.js";import{B as y}from"./button-CEleBrLa.js";import{I as b}from"./input-CHJX23Ty.js";import{D as L}from"./download-B5vY_t8k.js";import{F as H}from"./filter-ChSmed8z.js";import{c as I}from"./createLucideIcon-ClVFSv6n.js";import{F as o,D as w,S as P,T as q}from"./wallet-BuoZZyNv.js";import{C as z}from"./clock-B6I2Aox6.js";import{S as k}from"./star-DCrgNdEy.js";import{T as C,C as _,a as E}from"./users-CQbd8oD2.js";import{A as G}from"./award-BxSa7XJ0.js";import{C as M}from"./circle-x-BsSxcJbw.js";/* empty css            */import"./app-sidebar-layout-DpCFzBJL.js";import"./app-sidebar-header-CGXF-lXY.js";import"./app-shell-DnHRLfMH.js";import"./index-6yBPn8VC.js";import"./index-BYSkaRvI.js";import"./index-CwYsXsqK.js";import"./app-logo-icon-oqHP0DX7.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],A=I("Package",$),Q=[{label:"Admin",href:"/admin"},{label:"Analytics",href:"/admin/analytics"},{label:"Vendors"}];function je(){var x,h,j,p,u,g;const{analytics:l,filters:c}=S().props,F=s=>{switch(s==null?void 0:s.toLowerCase()){case"compliant":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"non-compliant":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},V=s=>{switch(s==null?void 0:s.toLowerCase()){case"compliant":return e.jsx(E,{className:"h-4 w-4"});case"pending":return e.jsx(q,{className:"h-4 w-4"});case"non-compliant":return e.jsx(M,{className:"h-4 w-4"});default:return e.jsx(o,{className:"h-4 w-4"})}},d=s=>new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS",minimumFractionDigits:0,maximumFractionDigits:0}).format(s);return e.jsxs(D,{breadcrumbs:Q,children:[e.jsx(T,{title:"Admin - Vendor Analytics"}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Vendor Performance Analytics"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive analysis of vendor performance and compliance"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(y,{variant:"outline",size:"sm",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(y,{variant:"outline",size:"sm",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),e.jsx(a,{children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Academic Year"}),e.jsx(b,{type:"text",placeholder:"e.g., 2023/2024",defaultValue:c==null?void 0:c.academic_year})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Service Category"}),e.jsx(b,{type:"text",placeholder:"Search by category",defaultValue:c==null?void 0:c.service_category})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(a,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Vendors"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:l.summary.total_records})]}),e.jsx(A,{className:"h-12 w-12 text-blue-500 opacity-20"})]})})}),e.jsx(a,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Contracts"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:l.summary.total_contracts})]}),e.jsx(o,{className:"h-12 w-12 text-green-500 opacity-20"})]})})}),e.jsx(a,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contract Value"}),e.jsx("p",{className:"text-2xl font-bold mt-2",children:d(l.summary.total_value||0)})]}),e.jsx(w,{className:"h-12 w-12 text-yellow-500 opacity-20"})]})})}),e.jsx(a,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount Paid"}),e.jsx("p",{className:"text-2xl font-bold mt-2",children:d(l.summary.total_paid||0)})]}),e.jsx(w,{className:"h-12 w-12 text-purple-500 opacity-20"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(z,{className:"h-6 w-6 text-blue-600 dark:text-blue-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Delivery"}),e.jsxs("p",{className:"text-2xl font-bold",children:[((x=l.summary.avg_delivery)==null?void 0:x.toFixed(1))||"N/A","%"]})]})]})})}),e.jsx(a,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx(k,{className:"h-6 w-6 text-green-600 dark:text-green-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Quality"}),e.jsx("p",{className:"text-2xl font-bold",children:((h=l.summary.avg_quality)==null?void 0:h.toFixed(1))||"N/A"})]})]})})}),e.jsx(a,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:e.jsx(C,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Timeliness"}),e.jsx("p",{className:"text-2xl font-bold",children:((j=l.summary.avg_timeliness)==null?void 0:j.toFixed(1))||"N/A"})]})]})})})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-5 w-5"}),"Compliance Status"]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:(p=l.compliance_status)==null?void 0:p.map(s=>{const t=s.count/l.summary.total_records*100;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{className:F(s.compliance_status),children:e.jsxs("span",{className:"flex items-center gap-1",children:[V(s.compliance_status),s.compliance_status]})}),e.jsxs("span",{className:"text-sm font-medium",children:[s.count," vendors (",t.toFixed(1),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${t}%`}})})]},s.compliance_status)})})})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Service Category Breakdown"]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:(u=l.service_category_breakdown)==null?void 0:u.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.service_category}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.contracts," contract",s.contracts!==1?"s":""]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold",children:d(s.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"total value"})]})]},t))})})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Top Vendors by Contract Value"]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:(g=l.top_vendors)==null?void 0:g.slice(0,10).map((s,t)=>{var N,f,v;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 ${t<3?"bg-yellow-100 dark:bg-yellow-900":"bg-gray-100 dark:bg-gray-900"} rounded-full flex items-center justify-center`,children:e.jsx("span",{className:"text-sm font-bold",children:t+1})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:(f=(N=s.vendor)==null?void 0:N.user)==null?void 0:f.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.contracts," contract",s.contracts!==1?"s":""]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold",children:d(s.value)}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(k,{className:"h-3 w-3 text-yellow-500"}),e.jsxs("span",{children:[(v=s.avg_quality)==null?void 0:v.toFixed(1)," quality"]})]})]})]},s.vendor_id)})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(i,{href:"/admin/search/vendors",children:e.jsx(a,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Search Vendors"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Find individual vendors"})]})]})})})}),e.jsx(i,{href:"/admin/analytics/teachers",children:e.jsx(a,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Teacher Analytics"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View teacher performance"})]})]})})})}),e.jsx(i,{href:"/admin/analytics",children:e.jsx(a,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Back to overview"})]})]})})})})]})]})]})}export{je as default};
