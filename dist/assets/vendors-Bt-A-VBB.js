import{u as j,r as g,j as e,H as y,L as m}from"./app-DZ0vWX43.js";import{A as f}from"./admin-sidebar-layout-YkU-jgrI.js";import{d as N}from"./index-CwYsXsqK.js";/* empty css            */import"./app-sidebar-header-CGXF-lXY.js";import"./app-shell-DnHRLfMH.js";import"./button-CEleBrLa.js";import"./index-6yBPn8VC.js";import"./index-BYSkaRvI.js";import"./createLucideIcon-ClVFSv6n.js";import"./input-CHJX23Ty.js";import"./app-logo-icon-oqHP0DX7.js";import"./wallet-BuoZZyNv.js";import"./users-CQbd8oD2.js";const b=[{title:"Adesua",href:N().url},{title:"Admin",href:"/admin"},{title:"Search Vendors",href:"/admin/search/vendors"}];function $(){const{vendors:a,filters:o}=j().props,[t,l]=g.useState(o),x=()=>{const s=new URLSearchParams;Object.entries(t).forEach(([i,r])=>{r&&s.append(i,r)}),window.location.href=`/admin/search/vendors?${s.toString()}`},h=s=>s?s>=4?"text-green-600":s>=3?"text-yellow-600":"text-red-600":"text-gray-500",u=s=>s?s>=4.5?"Excellent":s>=3.5?"Good":s>=2.5?"Satisfactory":"Needs Improvement":"No Data",p=["Supplies","Maintenance","Transportation","Technology","Food Services","Security","Cleaning","Construction","Other"];return e.jsxs(f,{breadcrumbs:b,children:[e.jsx(y,{title:"Admin - Search Vendors"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Search Vendors"}),e.jsx("p",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"Search and analyze vendor performance and statistics."}),e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Search Filters"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Search Term"}),e.jsx("input",{type:"text",value:t.search||"",onChange:s=>l({...t,search:s.target.value}),placeholder:"Business name, contact person, license...",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Business Type"}),e.jsxs("select",{value:t.business_type||"",onChange:s=>l({...t,business_type:s.target.value}),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:"All Types"}),p.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Academic Year"}),e.jsx("input",{type:"text",value:t.academic_year||"",onChange:s=>l({...t,academic_year:s.target.value}),placeholder:"2023/2024...",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:x,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Search"})})]}),e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsxs("h3",{className:"text-lg font-medium mb-4",children:["Search Results (",a.data.length,")"]}),a.data.length===0?e.jsx("p",{className:"text-gray-500",children:"No vendors found matching your criteria."}):e.jsx("div",{className:"space-y-4",children:a.data.map(s=>{var i,r,c,d,n;return e.jsx("div",{className:"rounded-md border p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.business_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.name," (",s.email,")"]}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 text-sm md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Business Type:"})," ",s.business_type]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"License:"})," ",s.license_number]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contact:"})," ",s.contact_person]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.phone]})]})]}),e.jsxs("div",{className:"ml-4 text-right",children:[s.statistics_summary?e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"font-medium text-blue-600",children:[s.statistics_summary.total_contracts," Contracts"]}),e.jsxs("div",{className:"text-gray-600",children:["Value: ₵",((i=s.statistics_summary.total_value)==null?void 0:i.toLocaleString())||"0"]}),e.jsxs("div",{className:"text-gray-600",children:["Paid: ₵",((r=s.statistics_summary.total_paid)==null?void 0:r.toLocaleString())||"0"]}),e.jsxs("div",{className:`${h(s.statistics_summary.avg_quality)}`,children:["Quality: ",((c=s.statistics_summary.avg_quality)==null?void 0:c.toFixed(1))||"N/A"," - ",u(s.statistics_summary.avg_quality)]}),e.jsxs("div",{className:"text-gray-600",children:["Delivery: ",((d=s.statistics_summary.avg_delivery)==null?void 0:d.toFixed(1))||"N/A","%"]}),e.jsxs("div",{className:"text-gray-600",children:["Timeliness: ",((n=s.statistics_summary.avg_timeliness)==null?void 0:n.toFixed(1))||"N/A"]})]}):e.jsx("div",{className:"text-sm text-gray-500",children:"No statistics data"}),e.jsx("div",{className:"mt-2",children:e.jsx(m,{href:`/admin/statistics/vendor/${s.id}`,className:"text-blue-600 hover:text-blue-800 text-sm",children:"View Details →"})})]})]})},s.id)})})]}),a.links&&a.links.length>3&&e.jsx("div",{className:"flex justify-center",children:e.jsx("nav",{className:"flex space-x-2",children:a.links.map((s,i)=>e.jsx(m,{href:s.url||"#",className:`px-3 py-2 text-sm rounded-md ${s.active?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,dangerouslySetInnerHTML:{__html:s.label}},i))})})]})]})}export{$ as default};
