import{b as k,r as A,j as e,H as D,L as C}from"./app-DZ0vWX43.js";import{A as q}from"./app-sidebar-layout-DpCFzBJL.js";import{C as n,a as p,b as j,c as d}from"./card-BJ8JbWew.js";import{B as u}from"./button-CEleBrLa.js";import{I as f}from"./input-CHJX23Ty.js";import{L as t}from"./label-BEniZJJr.js";import{S as o,a as h,b as m,c as x,d as l}from"./select-B9OUgDjX.js";import{C as V}from"./checkbox-BlsiGZ4h.js";import{A as B}from"./arrow-left-ltPuTtHX.js";import{a as g,C as S,B as E}from"./wallet-BuoZZyNv.js";import{S as L}from"./app-sidebar-header-CGXF-lXY.js";import{U as G,T as O,a as I,G as H,C as U}from"./users-CQbd8oD2.js";/* empty css            */import"./app-shell-DnHRLfMH.js";import"./index-6yBPn8VC.js";import"./index-BYSkaRvI.js";import"./createLucideIcon-ClVFSv6n.js";import"./index-QMvmXHjk.js";import"./check-C1tU90_-.js";import"./index-CwYsXsqK.js";import"./app-logo-icon-oqHP0DX7.js";const z=[{label:"Admin",href:"/admin"},{label:"Reports",href:"/admin/reports"},{label:"Create Report"}];function me(){const{reportTemplates:c,regions:w,schools:F}=usePage().props,{data:r,setData:a,post:_,processing:N,errors:i}=k({title:"",type:"national",description:"",filters:{region:"",school_id:"",date_from:"",date_to:"",format:"pdf"},schedule:{frequency:"monthly",enabled:!1},recipients:[]}),[P,R]=A.useState(null),v=s=>{a("type",s),R(c[s]),c[s]&&(a("title",c[s].title),a("description",c[s].description))},T=s=>{s.preventDefault(),_(route("admin.reports.store"))},y=s=>{switch(s){case"national":return e.jsx(E,{className:"h-5 w-5 text-blue-500"});case"regional":return e.jsx(U,{className:"h-5 w-5 text-green-500"});case"school":return e.jsx(H,{className:"h-5 w-5 text-purple-500"});case"compliance":return e.jsx(I,{className:"h-5 w-5 text-orange-500"});case"performance":return e.jsx(O,{className:"h-5 w-5 text-red-500"});case"financial":return e.jsx(g,{className:"h-5 w-5 text-yellow-500"});case"enrollment":return e.jsx(G,{className:"h-5 w-5 text-indigo-500"});default:return e.jsx(g,{className:"h-5 w-5 text-gray-500"})}};return e.jsxs(q,{breadcrumbs:z,children:[e.jsx(D,{title:"Admin - Create Report"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Create New Report"}),e.jsx("p",{className:"text-muted-foreground",children:"Generate custom reports with advanced filtering and scheduling options"})]}),e.jsx(C,{href:route("admin.reports.index"),children:e.jsxs(u,{variant:"outline",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Back to Reports"]})})]}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5"}),"Report Template"]})}),e.jsx(d,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(c).map(([s,b])=>e.jsx(n,{className:`cursor-pointer transition-all ${r.type===s?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-950":"hover:bg-muted/50"}`,onClick:()=>v(s),children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y(s),e.jsx("h3",{className:"font-medium capitalize",children:s})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:b.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:b.description})]})},s))})})]}),e.jsxs(n,{children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Report Details"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"title",children:"Report Title"}),e.jsx(f,{id:"title",value:r.title,onChange:s=>a("title",s.target.value),placeholder:"Enter report title",className:i.title?"border-red-500":""}),i.title&&e.jsx("p",{className:"text-sm text-red-500",children:i.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"type",children:"Report Type"}),e.jsxs(o,{value:r.type,onValueChange:s=>v(s),children:[e.jsx(h,{children:e.jsx(m,{placeholder:"Select report type"})}),e.jsx(x,{children:Object.keys(c).map(s=>e.jsx(l,{value:s,children:e.jsxs("div",{className:"flex items-center gap-2",children:[y(s),e.jsx("span",{className:"capitalize",children:s})]})},s))})]}),i.type&&e.jsx("p",{className:"text-sm text-red-500",children:i.type})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:r.description,onChange:s=>a("description",s.target.value),placeholder:"Enter report description",rows:3,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.description?"border-red-500":""}`}),i.description&&e.jsx("p",{className:"text-sm text-red-500",children:i.description})]})]})]}),e.jsxs(n,{children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Filters & Options"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"region",children:"Region"}),e.jsxs(o,{value:r.filters.region,onValueChange:s=>a("filters",{...r.filters,region:s}),children:[e.jsx(h,{children:e.jsx(m,{placeholder:"Select region"})}),e.jsxs(x,{children:[e.jsx(l,{value:"",children:"All Regions"}),w.map(s=>e.jsx(l,{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"school",children:"School"}),e.jsxs(o,{value:r.filters.school_id,onValueChange:s=>a("filters",{...r.filters,school_id:s}),children:[e.jsx(h,{children:e.jsx(m,{placeholder:"Select school"})}),e.jsxs(x,{children:[e.jsx(l,{value:"",children:"All Schools"}),F.map(s=>e.jsxs(l,{value:s.id.toString(),children:[s.name," (",s.code,")"]},s.id))]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"date_from",children:"From Date"}),e.jsx(f,{id:"date_from",type:"date",value:r.filters.date_from,onChange:s=>a("filters",{...r.filters,date_from:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"date_to",children:"To Date"}),e.jsx(f,{id:"date_to",type:"date",value:r.filters.date_to,onChange:s=>a("filters",{...r.filters,date_to:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"format",children:"Output Format"}),e.jsxs(o,{value:r.filters.format,onValueChange:s=>a("filters",{...r.filters,format:s}),children:[e.jsx(h,{children:e.jsx(m,{placeholder:"Select format"})}),e.jsxs(x,{children:[e.jsx(l,{value:"pdf",children:"PDF"}),e.jsx(l,{value:"excel",children:"Excel"}),e.jsx(l,{value:"csv",children:"CSV"})]})]})]})]})]})]}),e.jsxs(n,{children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Schedule (Optional)"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{id:"schedule_enabled",checked:r.schedule.enabled,onCheckedChange:s=>a("schedule",{...r.schedule,enabled:s})}),e.jsx(t,{htmlFor:"schedule_enabled",children:"Enable automatic report generation"})]}),r.schedule.enabled&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"frequency",children:"Frequency"}),e.jsxs(o,{value:r.schedule.frequency,onValueChange:s=>a("schedule",{...r.schedule,frequency:s}),children:[e.jsx(h,{children:e.jsx(m,{placeholder:"Select frequency"})}),e.jsxs(x,{children:[e.jsx(l,{value:"daily",children:"Daily"}),e.jsx(l,{value:"weekly",children:"Weekly"}),e.jsx(l,{value:"monthly",children:"Monthly"}),e.jsx(l,{value:"quarterly",children:"Quarterly"}),e.jsx(l,{value:"yearly",children:"Yearly"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(C,{href:route("admin.reports.index"),children:e.jsx(u,{variant:"outline",children:"Cancel"})}),e.jsx(u,{type:"submit",disabled:N,children:N?"Generating...":"Generate Report"})]})]})]})]})}export{me as default};
